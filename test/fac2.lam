#define succ (lam n. lam f. lam x. f (n f x))

#define _0 (lam f. lam x. x)
#define _1 (succ _0)
#define _2 (succ _1)
#define _3 (succ _2)

#define pred (lam n. lam f. lam x. n (lam g. lam h. h (g f)) (lam u. x) (lam u. u))
#define mul (lam m. lam n. lam f. lam x. m (n f) x)

#define iszero (lam n. lam x. lam y. n (lam z. y) x)
#define if (lam x. x)

#define Y (lam h. ((lam x. (h (lam a. ((x x) a)))) (lam x. (h (lam a. ((x x) a))))))

#define fac (Y (lam f. lam n. if (iszero n) (_1) (mul n (f (pred n)))))

fac _3
